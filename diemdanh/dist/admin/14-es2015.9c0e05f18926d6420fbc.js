(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2FAO":function(e,t,n){"use strict";n.r(t),n.d(t,"EmployeeModule",(function(){return H}));var i=n("ofXK"),o=n("lDzL"),a=n("3Pt+"),c=n("ZOsW"),r=n("tgok"),l=n("fXoL"),s=(n("pLZG"),n("3XJ7")),b=(n("lUod"),n("R0Ic")),u=n("WyaX");let d=(()=>{class e{constructor(){this.direction="down",this.isOpenChange=new l.n,this.isDisabledChange=new l.n,this.toggleClick=new l.n,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac}),e})();Object(b.h)({height:0,overflow:"hidden"}),Object(b.e)("220ms cubic-bezier(0, 0, 0.2, 1)",Object(b.h)({height:"*",overflow:"hidden"}));let m=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[s.a,u.a,d]}}}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)}}),e})();var p=n("XNiG"),f=n("Kj3r"),h=n("+ts/"),g=n("tyNb"),v=n("K3ix"),P=n("hfSs");function x(e,t){if(1&e&&(l.Pb(0,"strong",24),l.zc(1),l.Ob()),2&e){const e=t.rowIndex;l.xb(1),l.Ac(e+1)}}function O(e,t){if(1&e&&(l.zc(0),l.Zb(1,"convertDataViewPipe")),2&e){const e=t.row,n=l.Yb();l.Bc(" ",l.bc(1,1,e.role,n.arrRole)," ")}}function y(e,t){if(1&e){const e=l.Qb();l.Pb(0,"i",28),l.Wb("click",(function(){l.pc(e);const t=l.Yb().row,n=l.Yb(),i=l.mc(32);return n.getIdActive(i,t)})),l.Ob()}}function w(e,t){if(1&e){const e=l.Qb();l.Pb(0,"i",29),l.Wb("click",(function(){l.pc(e);const t=l.Yb().row,n=l.Yb(),i=l.mc(32);return n.getIdActive(i,t)})),l.Ob()}}function k(e,t){if(1&e){const e=l.Qb();l.Pb(0,"i",25),l.Wb("click",(function(){l.pc(e);const n=t.row;return l.Yb().editItem(n.id)})),l.Ob(),l.xc(1,y,1,0,"i",26),l.xc(2,w,1,0,"i",27)}if(2&e){const e=t.row;l.xb(1),l.ec("ngIf",!1!==e.active),l.xb(1),l.ec("ngIf",0==e.active)}}function I(e,t){if(1&e&&(l.Pb(0,"option",35),l.zc(1),l.Ob()),2&e){const e=t.$implicit;l.fc("value",e.number),l.xb(1),l.Ac(e.name)}}function z(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",30),l.zc(1," DIsplay "),l.Pb(2,"select",31),l.Wb("ngModelChange",(function(t){return l.pc(e),l.Yb().pageResult.per_page=t}))("click",(function(){return l.pc(e),l.Yb().selectItemPerPage()})),l.xc(3,I,2,2,"option",32),l.Ob(),l.Pb(4,"span",33),l.zc(5),l.Ob(),l.Ob(),l.Pb(6,"datatable-pager",34),l.Wb("change",(function(t){return l.pc(e),l.Yb(),l.mc(19).onFooterPage(t)}))("change",(function(t){return l.pc(e),l.Yb().changePage(t)})),l.Ob()}if(2&e){const e=l.Yb();l.xb(2),l.ec("ngModel",e.pageResult.per_page),l.xb(1),l.ec("ngForOf",e.element),l.xb(2),l.Bc(" in total ",e.pageResult.total_objects," result"),l.xb(1),l.ec("pagerLeftArrowIcon","datatable-icon-left")("pagerRightArrowIcon","datatable-icon-right")("pagerPreviousIcon","datatable-icon-prev")("pagerNextIcon","datatable-icon-skip")("page",e.pageResult.page)("size",e.pageResult.per_page)("count",e.pageResult.total_objects)}}function _(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",36),l.Pb(1,"h4",37),l.zc(2),l.Ob(),l.Pb(3,"button",38),l.Wb("click",(function(){return l.pc(e),l.Yb().modalRef.hide()})),l.Pb(4,"span",39),l.zc(5,"\xd7"),l.Ob(),l.Ob(),l.Ob(),l.Pb(6,"div",40),l.Pb(7,"button",41),l.Wb("click",(function(){return l.pc(e),l.Yb().changeActive()})),l.zc(8,"Yes"),l.Ob(),l.Pb(9,"button",42),l.Wb("click",(function(){return l.pc(e),l.Yb().modalRef.hide()})),l.zc(10,"No"),l.Ob(),l.Ob()}if(2&e){const e=l.Yb();l.xb(2),l.Bc("Are you sure ",1==e.idActive.active?"lock":"unlock"," this account?")}}let C=(()=>{class e{constructor(e,t,n,i){this.employeeService=e,this.fb=t,this.router=n,this.modalService=i,this.element=h.c,this.arrRole=h.k,this.pageResult={page:1,per_page:10,total_objects:0,fullname:""},this.idActive={id:"",active:!0},this.isAdmin=!0,this.messages={emptyMessage:"No data to display"},this.modelAccount=new p.a,this.formAdd()}ngOnInit(){this.getDataLists(),this.delaySearch()}delaySearch(){this.modelAccount.pipe(Object(f.a)(h.p)).subscribe(e=>{this.pageResult.fullname=this.formSearch.value.search,this.pageResult.page=1,this.getDataLists()})}formAdd(){this.formSearch=this.fb.group({role:[[]],search:[""]})}getDataLists(){this.employeeService.getListDatas(this.pageResult).subscribe(e=>{this.tableData=e.user_systems,this.pageResult.total_objects=e.meta.pagination.total_objects})}addNewItem(){this.router.navigate(["pages/employees/create"])}editItem(e){this.router.navigate(["pages/employees/detail/"+e])}changePage(e){this.pageResult.page=e.page,this.getDataLists()}selectItemPerPage(){this.pageResult.page=1,this.getDataLists()}search(){this.modelAccount.next()}getIdActive(e,t){this.modalRef=this.modalService.show(e),this.idActive={id:t.id,active:t.active}}changeActive(){this.employeeService.edit(this.idActive.id,{active:!this.idActive.active}).subscribe(e=>{this.getDataLists(),this.modalRef.hide()})}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(h.f),l.Jb(a.b),l.Jb(g.b),l.Jb(v.b))},e.\u0275cmp=l.Db({type:e,selectors:[["app-employee"]],decls:33,vars:12,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"col-lg-3"],[1,"searchContainer"],[1,"icon"],[1,"fa","fa-search"],["type","text","formControlName","search","placeholder","T\xecm...",1,"form-control",3,"keyup"],["type","button",1,"btn","btn-success",3,"click"],[1,"table"],[1,"material","expandable","striped",3,"columnMode","headerHeight","footerHeight","rowHeight","rows","messages"],["table",""],["name","STT",2,"width","60px !important",3,"sortable","resizeable","canAutoResize","maxWidth"],["style","width: 60px !important;","ngx-datatable-cell-template",""],["name","Fullname","cellClass","textalignleft","prop","fullname"],["name","Email","cellClass","textalignleft","prop","email"],["name","Phone","cellClass","textalignleft","prop","phone_number"],["name","Kind user","cellClass","textalignleft"],["ngx-datatable-cell-template",""],["name","Action",3,"sortable"],["ngx-datatable-footer-template",""],["changeStatus",""],[2,"width","60px !important"],["aria-hidden","true",1,"fa","fa-pencil-square-o","icon-action",3,"click"],["class","fa fa-check-square icon-action active-button","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-times-circle icon-action no-active","aria-hidden","true",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-check-square","icon-action","active-button",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle","icon-action","no-active",3,"click"],[1,"col-6","col-md-6"],[3,"ngModel","ngModelChange","click"],[3,"value",4,"ngFor","ngForOf"],[1,"soluong"],[1,"col-6","col-md-6",3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","change"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Pb(3,"div",3),l.Pb(4,"form",4),l.Pb(5,"div",0),l.Pb(6,"div",5),l.Pb(7,"div",6),l.Pb(8,"span",7),l.Kb(9,"i",8),l.Ob(),l.Pb(10,"input",9),l.Wb("keyup",(function(){return t.search()})),l.Ob(),l.Ob(),l.Ob(),l.Kb(11,"div",5),l.Pb(12,"div",5),l.Pb(13,"div",2),l.Pb(14,"button",10),l.Wb("click",(function(){return t.addNewItem()})),l.zc(15,"Create"),l.Ob(),l.Ob(),l.Ob(),l.Kb(16,"div",5),l.Ob(),l.Ob(),l.Pb(17,"div",11),l.Pb(18,"ngx-datatable",12,13),l.Pb(20,"ngx-datatable-column",14),l.xc(21,x,2,1,"ng-template",15),l.Ob(),l.Kb(22,"ngx-datatable-column",16),l.Kb(23,"ngx-datatable-column",17),l.Kb(24,"ngx-datatable-column",18),l.Pb(25,"ngx-datatable-column",19),l.xc(26,O,2,4,"ng-template",20),l.Ob(),l.Pb(27,"ngx-datatable-column",21),l.xc(28,k,3,2,"ng-template",20),l.Ob(),l.Pb(29,"ngx-datatable-footer"),l.xc(30,z,7,10,"ng-template",22),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.xc(31,_,11,1,"ng-template",null,23,l.yc)),2&e&&(l.xb(4),l.ec("formGroup",t.formSearch),l.xb(14),l.ec("columnMode","force")("headerHeight",50)("footerHeight",80)("rowHeight",50)("rows",t.tableData)("messages",t.messages),l.xb(2),l.ec("sortable",!1)("resizeable",!1)("canAutoResize",!1)("maxWidth",50),l.xb(7),l.ec("sortable",!1))},directives:[a.o,a.h,a.d,a.a,a.g,a.c,o.e,o.b,o.a,o.f,o.c,i.l,a.l,a.i,i.k,o.d,a.j,a.n],pipes:[P.a],styles:[".searchContainer[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.searchContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-left:30px}.searchContainer[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto;padding-left:10px;display:flex;align-items:center;cursor:pointer}.active-button[_ngcontent-%COMP%]{color:#a7b10f}.no-active[_ngcontent-%COMP%]{color:red!important}"]}),e})();function A(e,t){1&e&&(l.Pb(0,"h4",17),l.zc(1,"Th\xeam t\xe0i kho\u1ea3n"),l.Ob())}function R(e,t){1&e&&(l.Pb(0,"h4",17),l.zc(1,"Description t\xe0i kho\u1ea3n"),l.Ob())}function D(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Username kh\xf4ng h\u1ee3p l\u1ec7 "),l.Ob())}function M(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Please Enter Username "),l.Ob())}function Y(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Email kh\xf4ng h\u1ee3p l\u1ec7 "),l.Ob())}function N(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Please Enter email "),l.Ob())}function S(e,t){if(1&e&&(l.Pb(0,"option",18),l.zc(1),l.Ob()),2&e){const e=t.$implicit;l.fc("value",e.value),l.xb(1),l.Ac(e.valueView)}}function W(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Phone Number kh\xf4ng h\u1ee3p l\u1ec7 "),l.Ob())}function q(e,t){1&e&&(l.Pb(0,"span"),l.zc(1," Please Enter Phone Number "),l.Ob())}function K(e,t){1&e&&(l.Pb(0,"div",4),l.Pb(1,"label",5),l.zc(2,"M\u1eadt kh\u1ea9u:"),l.Ob(),l.Kb(3,"input",19),l.Ob())}function j(e,t){1&e&&(l.Pb(0,"div",4),l.Pb(1,"label",5),l.zc(2,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u:"),l.Ob(),l.Kb(3,"input",20),l.Ob())}function F(e,t){if(1&e){const e=l.Qb();l.Pb(0,"button",21),l.Wb("click",(function(){return l.pc(e),l.Yb().createItem()})),l.zc(1,"Create"),l.Ob()}if(2&e){const e=l.Yb();l.ec("disabled",!e.form.valid)}}function L(e,t){if(1&e){const e=l.Qb();l.Pb(0,"button",21),l.Wb("click",(function(){return l.pc(e),l.Yb().editItem()})),l.zc(1,"Save"),l.Ob()}if(2&e){const e=l.Yb();l.ec("disabled",!e.form.valid)}}let J=(()=>{class e{constructor(e,t,n,i,o,a){this.bsmodalRef=e,this.fb=t,this.employeeService=n,this.config=i,this.router=o,this.route=a,this.permission=h.k,this.separateDialCode=!0,this.config.notFoundText="Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"}ngOnInit(){this.route.params.subscribe(e=>{void 0!==e.id?(this.id=e.id,this.editForm(),this.getDetailData()):this.addForm()})}get f(){return this.form.controls}addForm(){this.form=this.fb.group({fullname:[""],email:["",[a.m.required,a.m.pattern(h.i.EMAIL)]],role:["employee",[a.m.required]],phone_number:[""],password:["",[a.m.required]],password_confirmation:["",[a.m.required]]})}editForm(){this.form=this.fb.group({fullname:[""],email:["",[a.m.required,a.m.pattern(h.i.EMAIL)]],role:[null,[a.m.required]],phone_number:["",[a.m.required]]})}getDetailData(){this.employeeService.getItemDetail(this.id).subscribe(e=>{this.form.setValue({email:e.user_system.email,fullname:e.user_system.fullname,role:e.user_system.role,phone_number:e.user_system.phone_number})})}editItem(){this.employeeService.edit(this.id,this.form.getRawValue()).subscribe(e=>{this.router.navigate(["pages/employees"])})}createItem(){this.employeeService.create(this.form.getRawValue()).subscribe(e=>{this.router.navigate(["pages/employees"])})}cancel(){this.router.navigate(["pages/employees"])}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(v.a),l.Jb(a.b),l.Jb(h.f),l.Jb(c.b),l.Jb(g.b),l.Jb(g.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-employee-detail"]],decls:38,vars:14,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","usr"],["type","text","formControlName","fullname",1,"form-control"],[1,"text-arlet"],[4,"ngIf"],["type","text","formControlName","email",1,"form-control"],["formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","tel","formControlName","phone_number",1,"form-control"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-default","btn-control",3,"click"],["type","button","class","btn btn-primary btn-control",3,"disabled","click",4,"ngIf"],[1,"modal-title"],[3,"value"],["type","text","formControlName","password",1,"form-control"],["type","text","formControlName","password_confirmation",1,"form-control"],["type","button",1,"btn","btn-primary","btn-control",3,"disabled","click"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.xc(1,A,2,0,"h4",1),l.xc(2,R,2,0,"h4",1),l.Ob(),l.Pb(3,"div",2),l.Pb(4,"form",3),l.Pb(5,"div",4),l.Pb(6,"label",5),l.zc(7,"Username:"),l.Ob(),l.Kb(8,"input",6),l.Ob(),l.Pb(9,"div",7),l.xc(10,D,2,0,"span",8),l.xc(11,M,2,0,"span",8),l.Ob(),l.Pb(12,"div",4),l.Pb(13,"label",5),l.zc(14,"Email:"),l.Ob(),l.Kb(15,"input",9),l.Ob(),l.Pb(16,"div",7),l.xc(17,Y,2,0,"span",8),l.xc(18,N,2,0,"span",8),l.Ob(),l.Pb(19,"div",4),l.Pb(20,"label",5),l.zc(21,"Role:"),l.Ob(),l.Pb(22,"select",10),l.xc(23,S,2,2,"option",11),l.Ob(),l.Ob(),l.Pb(24,"div",4),l.Pb(25,"label",5),l.zc(26,"Phone Number:"),l.Ob(),l.Kb(27,"input",12),l.Ob(),l.Pb(28,"div",7),l.xc(29,W,2,0,"span",8),l.xc(30,q,2,0,"span",8),l.Ob(),l.xc(31,K,4,0,"div",13),l.xc(32,j,4,0,"div",13),l.Ob(),l.Ob(),l.Pb(33,"div",14),l.Pb(34,"button",15),l.Wb("click",(function(){return t.cancel()})),l.zc(35,"Close"),l.Ob(),l.xc(36,F,2,1,"button",16),l.xc(37,L,2,1,"button",16),l.Ob()),2&e&&(l.xb(1),l.ec("ngIf",!t.id),l.xb(1),l.ec("ngIf",t.id),l.xb(2),l.ec("formGroup",t.form),l.xb(6),l.ec("ngIf",t.f.fullname.invalid&&t.f.fullname.dirty&&!t.f.fullname.errors.required),l.xb(1),l.ec("ngIf",(null==t.f.fullname.errors?null:t.f.fullname.errors.required)&&t.f.fullname.touched),l.xb(6),l.ec("ngIf",t.f.email.invalid&&t.f.email.dirty&&!t.f.email.errors.required),l.xb(1),l.ec("ngIf",(null==t.f.email.errors?null:t.f.email.errors.required)&&t.f.email.touched),l.xb(5),l.ec("ngForOf",t.permission),l.xb(6),l.ec("ngIf",t.f.phone_number.invalid&&t.f.phone_number.dirty&&!t.f.phone_number.errors.required),l.xb(1),l.ec("ngIf",(null==t.f.phone_number.errors?null:t.f.phone_number.errors.required)&&t.f.phone_number.touched),l.xb(1),l.ec("ngIf",!t.id),l.xb(1),l.ec("ngIf",!t.id),l.xb(4),l.ec("ngIf",!t.id),l.xb(1),l.ec("ngIf",t.id))},directives:[i.l,a.o,a.h,a.d,a.a,a.g,a.c,a.l,i.k,a.j,a.n],styles:[".text-arlet[_ngcontent-%COMP%]{margin:-10px 0 10px 10px;color:red;font-family:Nunito Sans,sans-serif;font-size:1.5rem;font-weight:400;line-height:1.5}"]}),e})();const E=[{path:"",component:C},{path:"create",component:J},{path:"detail/:id",component:J}];let G=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[g.c.forChild(E)],g.c]}),e})(),H=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[i.c,G,o.g,a.k,a.e,c.c,r.a,m]]}),e})()}}]);