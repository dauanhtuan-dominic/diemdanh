(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{AGTG:function(t,e,o){"use strict";o.r(e),o.d(e,"ProductGroupsModule",(function(){return G}));var r=o("ofXK"),a=o("XNiG"),c=o("+ts/"),n=o("Kj3r"),i=o("fXoL"),s=o("3Pt+"),b=o("tyNb"),l=o("K3ix"),u=o("lDzL");function d(t,e){if(1&t&&(i.Pb(0,"strong",22),i.zc(1),i.Ob()),2&t){const t=e.rowIndex;i.xb(1),i.Ac(t+1)}}function p(t,e){if(1&t){const t=i.Qb();i.Pb(0,"i",23),i.Wb("click",(function(){i.pc(t);const o=e.row;return i.Yb().editItem(o.id)})),i.Ob(),i.Pb(1,"i",24),i.Wb("click",(function(){i.pc(t);const o=e.row,r=i.Yb(),a=i.mc(29);return r.GetIdDelete(a,o.id)})),i.Ob()}}function g(t,e){if(1&t&&(i.Pb(0,"option",30),i.zc(1),i.Ob()),2&t){const t=e.$implicit;i.fc("value",t.number),i.xb(1),i.Ac(t.name)}}function m(t,e){if(1&t){const t=i.Qb();i.Pb(0,"div",25),i.zc(1," Display "),i.Pb(2,"select",26),i.Wb("ngModelChange",(function(e){return i.pc(t),i.Yb().pageResult.per_page=e}))("click",(function(){return i.pc(t),i.Yb().selectItemPerPage()})),i.xc(3,g,2,2,"option",27),i.Ob(),i.Pb(4,"span",28),i.zc(5),i.Ob(),i.Ob(),i.Pb(6,"datatable-pager",29),i.Wb("change",(function(e){return i.pc(t),i.Yb(),i.mc(19).onFooterPage(e)}))("change",(function(e){return i.pc(t),i.Yb().changePage(e)})),i.Ob()}if(2&t){const t=i.Yb();i.xb(2),i.ec("ngModel",t.pageResult.per_page),i.xb(1),i.ec("ngForOf",t.element),i.xb(2),i.Bc(" trong t\u1ed5ng s\u1ed1 ",t.pageResult.total_objects," k\u1ebft qu\u1ea3"),i.xb(1),i.ec("pagerLeftArrowIcon","datatable-icon-left")("pagerRightArrowIcon","datatable-icon-right")("pagerPreviousIcon","datatable-icon-prev")("pagerNextIcon","datatable-icon-skip")("page",t.pageResult.page)("size",t.pageResult.per_page)("count",t.pageResult.total_objects)}}function h(t,e){if(1&t){const t=i.Qb();i.Pb(0,"div",31),i.Pb(1,"h4",32),i.zc(2,"Are you sure delete this item?"),i.Ob(),i.Pb(3,"button",33),i.Wb("click",(function(){return i.pc(t),i.Yb().modalRef.hide()})),i.Pb(4,"span",34),i.zc(5,"\xd7"),i.Ob(),i.Ob(),i.Ob(),i.Pb(6,"div",35),i.Pb(7,"button",36),i.Wb("click",(function(){return i.pc(t),i.Yb().DeleteItem()})),i.zc(8,"Yes"),i.Ob(),i.Pb(9,"button",37),i.Wb("click",(function(){return i.pc(t),i.Yb().modalRef.hide()})),i.zc(10,"No"),i.Ob(),i.Ob()}}let f=(()=>{class t{constructor(t,e,o,r){this.productGroupsService=t,this.fb=e,this.router=o,this.modalService=r,this.element=c.c,this.pageResult={page:1,per_page:10,total_objects:0,search:"",name:""},this.isAdmin=!0,this.messages={emptyMessage:"No data to display"},this.modelProductGroup=new a.a,this.formAdd()}ngOnInit(){this.getProductGroups(),this.delaySearch()}formAdd(){this.formSearch=this.fb.group({product_type:[""],search:[""]})}delaySearch(){this.modelProductGroup.pipe(Object(n.a)(c.p)).subscribe(t=>{this.pageResult.name=this.formSearch.value.search,this.pageResult.page=1,this.getProductGroups()})}getProductGroups(){this.productGroupsService.getListDatas(this.pageResult).subscribe(t=>{this.tableData=t.product_groups,console.log(this.tableData),this.pageResult.total_objects=t.meta.pagination.total_objects||1})}DeleteItem(){this.productGroupsService.delete(this.id).subscribe(t=>{this.getProductGroups(),this.modalRef.hide()})}changePage(t){this.pageResult.page=t.page,this.getProductGroups()}selectItemPerPage(){this.pageResult.page=1,this.getProductGroups()}GetIdDelete(t,e){this.modalRef=this.modalService.show(t),this.id=e}search(){this.modelProductGroup.next()}addNewItem(){this.router.navigate(["pages/product-groups/create"])}editItem(t){this.router.navigate(["pages/product-groups/detail/"+t])}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(c.l),i.Jb(s.b),i.Jb(b.b),i.Jb(l.b))},t.\u0275cmp=i.Db({type:t,selectors:[["app-product-groups"]],decls:30,vars:12,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"col-lg-3"],[1,"searchContainer"],[1,"icon"],[1,"fa","fa-search"],["type","text","formControlName","search","placeholder","T\xecm...",1,"form-control",3,"keyup"],["type","button",1,"btn","btn-success",3,"click"],[1,"table"],[1,"material","expandable","striped",3,"columnMode","headerHeight","footerHeight","rowHeight","rows","messages"],["table",""],["name","STT",2,"width","60px !important",3,"sortable","resizeable","canAutoResize","maxWidth"],["style","width: 60px !important;","ngx-datatable-cell-template",""],["name","Group Product Name","cellClass","textalignleft","prop","name"],["name","Note","cellClass","textalignleft","prop","description"],["name","Action",3,"sortable"],["ngx-datatable-cell-template",""],["ngx-datatable-footer-template",""],["deleteRow",""],[2,"width","60px !important"],["aria-hidden","true",1,"fa","fa-pencil-square-o","icon-action",3,"click"],["aria-hidden","true","data-toggle","modal","data-target","#deleteRow",1,"fa","fa-trash","icon-action",3,"click"],[1,"col-6","col-md-6"],[3,"ngModel","ngModelChange","click"],[3,"value",4,"ngFor","ngForOf"],[1,"soluong"],[1,"col-6","col-md-6",3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","change"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"div",3),i.Pb(4,"form",4),i.Pb(5,"div",0),i.Pb(6,"div",5),i.Pb(7,"div",6),i.Pb(8,"span",7),i.Kb(9,"i",8),i.Ob(),i.Pb(10,"input",9),i.Wb("keyup",(function(){return e.search()})),i.Ob(),i.Ob(),i.Ob(),i.Kb(11,"div",5),i.Pb(12,"div",5),i.Pb(13,"div",2),i.Pb(14,"button",10),i.Wb("click",(function(){return e.addNewItem()})),i.zc(15,"Create"),i.Ob(),i.Ob(),i.Ob(),i.Kb(16,"div",5),i.Ob(),i.Ob(),i.Pb(17,"div",11),i.Pb(18,"ngx-datatable",12,13),i.Pb(20,"ngx-datatable-column",14),i.xc(21,d,2,1,"ng-template",15),i.Ob(),i.Kb(22,"ngx-datatable-column",16),i.Kb(23,"ngx-datatable-column",17),i.Pb(24,"ngx-datatable-column",18),i.xc(25,p,2,0,"ng-template",19),i.Ob(),i.Pb(26,"ngx-datatable-footer"),i.xc(27,m,7,10,"ng-template",20),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.xc(28,h,11,0,"ng-template",null,21,i.yc)),2&t&&(i.xb(4),i.ec("formGroup",e.formSearch),i.xb(14),i.ec("columnMode","force")("headerHeight",50)("footerHeight",80)("rowHeight",50)("rows",e.tableData)("messages",e.messages),i.xb(2),i.ec("sortable",!1)("resizeable",!1)("canAutoResize",!1)("maxWidth",50),i.xb(4),i.ec("sortable",!1))},directives:[s.o,s.h,s.d,s.a,s.g,s.c,u.e,u.b,u.a,u.f,u.c,s.l,s.i,r.k,u.d,s.j,s.n],styles:[".searchContainer[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.searchContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-left:30px}.searchContainer[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto;padding-left:10px;display:flex;align-items:center;cursor:pointer}"]}),t})();function P(t,e){1&t&&(i.Pb(0,"h4",13),i.zc(1,"Create category"),i.Ob())}function x(t,e){1&t&&(i.Pb(0,"h4",13),i.zc(1,"Category detail"),i.Ob())}function O(t,e){1&t&&(i.Pb(0,"span"),i.zc(1," Group Product Name kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),i.Ob())}function v(t,e){if(1&t){const t=i.Qb();i.Pb(0,"button",14),i.Wb("click",(function(){return i.pc(t),i.Yb().createItem()})),i.zc(1,"Create"),i.Ob()}if(2&t){const t=i.Yb();i.ec("disabled",!t.form.valid)}}function y(t,e){if(1&t){const t=i.Qb();i.Pb(0,"button",14),i.Wb("click",(function(){return i.pc(t),i.Yb().editItem()})),i.zc(1,"Save"),i.Ob()}if(2&t){const t=i.Yb();i.ec("disabled",!t.form.valid)}}let I=(()=>{class t{constructor(t,e,o,r,a){this.bsmodalRef=t,this.fb=e,this.productGrouposService=o,this.router=r,this.route=a,this.AddForm()}get f(){return this.form.controls}ngOnInit(){this.route.params.subscribe(t=>{void 0!==t.id?(this.id=t.id,this.AddForm(),this.getItem()):this.AddForm()})}AddForm(){this.form=this.fb.group({name:["",[s.m.required]],description:[""]})}getItem(){this.productGrouposService.getItemDetail(this.id).subscribe(t=>{this.form.patchValue({name:t.product_group.name,description:t.product_group.description})})}editItem(){this.productGrouposService.edit(this.id,this.form.getRawValue()).subscribe(t=>{this.router.navigate(["pages/product-groups"])})}createItem(){this.productGrouposService.create(this.form.getRawValue()).subscribe(t=>{this.router.navigate(["pages/product-groups"])})}cancel(){this.router.navigate(["pages/product-groups"])}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(l.a),i.Jb(s.b),i.Jb(c.l),i.Jb(b.b),i.Jb(b.a))},t.\u0275cmp=i.Db({type:t,selectors:[["app-product-group-detail"]],decls:20,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","usr"],["type","text","formControlName","name",1,"form-control"],[1,"text-arlet"],[4,"ngIf"],["type","text","formControlName","description",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-default","btn-control",3,"click"],["type","button","class","btn btn-primary btn-control",3,"disabled","click",4,"ngIf"],[1,"modal-title"],["type","button",1,"btn","btn-primary","btn-control",3,"disabled","click"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.xc(1,P,2,0,"h4",1),i.xc(2,x,2,0,"h4",1),i.Ob(),i.Pb(3,"div",2),i.Pb(4,"form",3),i.Pb(5,"div",4),i.Pb(6,"label",5),i.zc(7,"Name:"),i.Ob(),i.Kb(8,"input",6),i.Ob(),i.Pb(9,"div",7),i.xc(10,O,2,0,"span",8),i.Ob(),i.Pb(11,"div",4),i.Pb(12,"label",5),i.zc(13,"Description:"),i.Ob(),i.Kb(14,"input",9),i.Ob(),i.Ob(),i.Ob(),i.Pb(15,"div",10),i.Pb(16,"button",11),i.Wb("click",(function(){return e.cancel()})),i.zc(17,"Close"),i.Ob(),i.xc(18,v,2,1,"button",12),i.xc(19,y,2,1,"button",12),i.Ob()),2&t&&(i.xb(1),i.ec("ngIf",!e.id),i.xb(1),i.ec("ngIf",e.id),i.xb(2),i.ec("formGroup",e.form),i.xb(6),i.ec("ngIf",(null==e.f.name.errors?null:e.f.name.errors.required)&&e.f.name.touched),i.xb(8),i.ec("ngIf",!e.id),i.xb(1),i.ec("ngIf",e.id))},directives:[r.l,s.o,s.h,s.d,s.a,s.g,s.c],styles:[".text-arlet[_ngcontent-%COMP%]{margin:-10px 0 10px 10px;color:red;font-family:Nunito Sans,sans-serif;font-size:14px;font-weight:400;line-height:1.5}"]}),t})();const w=[{path:"",component:f},{path:"create",component:I},{path:"detail/:id",component:I}];let k=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(e){return new(e||t)},imports:[[b.c.forChild(w)],b.c]}),t})(),G=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(e){return new(e||t)},imports:[[r.c,k,u.g,s.k,s.e,l.c.forRoot()]]}),t})()}}]);